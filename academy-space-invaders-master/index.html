<!DOCTYPE html>
<html lang="en">
<head>
    <title>Space Invaders</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!--
        1. HTML
        2. CSS
        3. div.background 1200x800
        4. div.hero 50x50
        5. move left / right (bonus: move up/down)  (bonus: move hero with mouse)
        6. fire 17x47
        7. game loop
        8. div.enemy
        9. enemy objects / enemy movement
        10. collision detection
    -->
    <div id="background">
        <div id="hero"></div>
        <div id="missile1"></div>
	<div id="missile2"></div>
	<div id="missile3"></div>
	<div id="missile4"></div>
        <div id="enemy1"></div>
	<div id="enemy2"></div>
	<div id="enemy3"></div>
	<div id="enemy4"></div>
    </div>

    <script>
        var hero = {
            left: 575,
            top: 700
        };

        var missile1 = [];
	
	var missile2 = [];
	
	var missile3 = [];
		
	var missile4 = [];

        var enemy1 = [
            { left: 200, top: 100 },
            { left: 300, top: 100 },
            { left: 400, top: 100 },
            { left: 500, top: 100 },
        ];
	
	var enemy2 = [
	    { left: 200, top: 175 },
            { left: 300, top: 175 },
            { left: 400, top: 175 },
            { left: 500, top: 175 },
	];

	var enemy3 = [
	    { left: 600, top: 100 },
            { left: 700, top: 100 },
            { left: 800, top: 100 },
            { left: 900, top: 100 },
	];

	var enemy4 = [
	    { left: 600, top: 175 },
            { left: 700, top: 175 },
            { left: 800, top: 175 },
            { left: 900, top: 175 },
	];
        

        document.onkeydown = function(e) {
            if (e.keyCode === 37) {
                // Left
                hero.left = hero.left - 10;
            }
            if (e.keyCode === 39) {
                // Right
                hero.left = hero.left + 10;
            }
            if (e.keyCode === 65) {
                missile1.push({
                    left: hero.left + 20,
                    top: hero.top - 20 
                });
                drawMissile1();
            }
	    if (e.keyCode === 84) {
                missile2.push({
                    left: hero.left + 20,
                    top: hero.top - 20 
                });
                drawMissile2();
            }
	    if (e.keyCode === 67) {
                missile3.push({
                    left: hero.left + 20,
                    top: hero.top - 20 
                });
                drawMissile3();
            }
	    if (e.keyCode === 71) {
                missile4.push({
                    left: hero.left + 20,
                    top: hero.top - 20 
                });
                drawMissile4();
            }
            drawHero();
        }


        function drawHero() {
            document.getElementById('hero').style.left = hero.left + 'px';
            document.getElementById('hero').style.top = hero.top + 'px';
        }

        function drawMissile1() {
            document.getElementById('missile1').innerHTML = ""
            for(var i = 0 ; i < missile1.length ; i++ ) {
                document.getElementById('missile1').innerHTML += `<div class='missile1' style='left:${missile1[i].left}px; top:${missile1[i].top}px'></div>`;
            }
        }
	
	function drawMissile2() {
            document.getElementById('missile2').innerHTML = ""
            for(var i = 0 ; i < missile2.length ; i++ ) {
                document.getElementById('missile2').innerHTML += `<div class='missile2' style='left:${missile2[i].left}px; top:${missile2[i].top}px'></div>`;
            }
        }
	
	function drawMissile3() {
            document.getElementById('missile3').innerHTML = ""
            for(var i = 0 ; i < missile3.length ; i++ ) {
                document.getElementById('missile3').innerHTML += `<div class='missile3' style='left:${missile3[i].left}px; top:${missile3[i].top}px'></div>`;
            }
        }
	
	function drawMissile4() {
            document.getElementById('missile4').innerHTML = ""
            for(var i = 0 ; i < missile4.length ; i++ ) {
                document.getElementById('missile4').innerHTML += `<div class='missile4' style='left:${missile4[i].left}px; top:${missile4[i].top}px'></div>`;
            }
        }

        function moveMissile1() {
            for(var i = 0 ; i < missile1.length ; i++ ) {
                missile1[i].top = missile1[i].top - 30
            }
        }

	function moveMissile2() {
            for(var i = 0 ; i < missile2.length ; i++ ) {
                missile2[i].top = missile2[i].top - 30
            }
        }

	function moveMissile3() {
            for(var i = 0 ; i < missile3.length ; i++ ) {
                missile3[i].top = missile3[i].top - 30
            }
        }

	function moveMissile4() {
            for(var i = 0 ; i < missile4.length ; i++ ) {
                missile4[i].top = missile4[i].top - 30
            }
        }

        function drawEnemy1() {
            document.getElementById('enemy1').innerHTML = ""
            for(var i = 0 ; i < enemy1.length ; i++ ) {
                document.getElementById('enemy1').innerHTML += `<div class='enemy' style='left:${enemy1[i].left}px; top:${enemy1[i].top}px'></div>`;
            }
        }

	function drawEnemy2() {
            document.getElementById('enemy2').innerHTML = ""
            for(var i = 0 ; i < enemy2.length ; i++ ) {
                document.getElementById('enemy2').innerHTML += `<div class='enemy' style='left:${enemy2[i].left}px; top:${enemy2[i].top}px'></div>`;
            }
        }

	function drawEnemy3() {
            document.getElementById('enemy3').innerHTML = ""
            for(var i = 0 ; i < enemy3.length ; i++ ) {
                document.getElementById('enemy3').innerHTML += `<div class='enemy' style='left:${enemy3[i].left}px; top:${enemy3[i].top}px'></div>`;
            }
        }

	function drawEnemy4() {
            document.getElementById('enemy4').innerHTML = ""
            for(var i = 0 ; i < enemy4.length ; i++ ) {
                document.getElementById('enemy4').innerHTML += `<div class='enemy' style='left:${enemy4[i].left}px; top:${enemy4[i].top}px'></div>`;
            }
        }

        function moveEnemy1() {
            for(var i = 0 ; i < enemy1.length ; i++ ) {
                enemy1[i].top = enemy1[i].top + 5;
            }
        }

	function moveEnemy2() {
            for(var i = 0 ; i < enemy2.length ; i++ ) {
                enemy2[i].top = enemy2[i].top + 5;
            }
        }
	
	function moveEnemy3() {
            for(var i = 0 ; i < enemy3.length ; i++ ) {
                enemy3[i].top = enemy3[i].top + 5;
            }
        }
	
	function moveEnemy4() {
            for(var i = 0 ; i < enemy4.length ; i++ ) {
                enemy4[i].top = enemy4[i].top + 5;
            }
        }
        function collisionDetection() {
            for (var enemy = 0; enemy < enemies.length; enemy++) {
                for (var missile = 0; missile < missiles.length; missile++) {
                    if ( 
                        missiles[missile].left >= enemies[enemy].left  &&
                        missiles[missile].left <= (enemies[enemy].left + 50)  &&
                        missiles[missile].top <= (enemies[enemy].top + 50)  &&
                        missiles[missile].top >= enemies[enemy].top
                    ) {
                        enemies.splice(enemy, 1);
                        missiles.splice(missile, 1);
                    }
                }
            }
        }

        function gameLoop() {
            setTimeout(gameLoop, 1000)
            moveMissile1();
	    moveMissile2();
	    moveMissile3();
	    moveMissile4();
            drawMissile1();
	    drawMissile2();
	    drawMissile3();
	    drawMissile4();
            moveEnemy1();
            moveEnemy2();
	    moveEnemy3();
	    moveEnemy4();
	    drawEnemy1();
	    drawEnemy2();
	    drawEnemy3();
	    drawEnemy4();
            collisionDetection();
        }
        
        gameLoop()

    </script>
</body>
</html>